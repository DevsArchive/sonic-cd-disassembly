; -------------------------------------------------------------------------
; Sonic CD Disassembly
; By Ralakimus 2021
; -------------------------------------------------------------------------
; Mega Drive initialization
; -------------------------------------------------------------------------

	include	"_Include/Common.i"
	include	"_Include/Main CPU.i"
	include	"_Include/Main CPU Variables.i"
	include	"_Include/MMD.i"

; -------------------------------------------------------------------------
; MMD header
; -------------------------------------------------------------------------

	MMD	MMDSUBM, &
		WORKRAMFILE, End-Start, &
		Start, 0, 0

; -------------------------------------------------------------------------
; Program start
; -------------------------------------------------------------------------

Start:
	lea	MAINVARS,a0			; Clear variables
	move.w	#MAINVARSSZ/4-1,d7

.ClearVars:
	move.l	#0,(a0)+
	dbf	d7,.ClearVars

	lea	VDPRegs(pc),a0			; Initialize the Mega Drive
	bsr.w	Initialize

	VDPCMD	move.l,$E400,VRAM,WRITE,VDPCTRL	; Reset horizontal scroll data
	move.l	#0,VDPDATA

	VDPCMD	move.l,0,CRAM,WRITE,VDPCTRL	; Clear CRAM
	lea	VDPDATA,a0
	moveq	#PALETTESZ/4-1,d7

.ClearCRAM:
	move.l	#0,(a0)
	dbf	d7,.ClearCRAM
	
	Z80RESOFF				; Set Z80 reset off
	bsr.w	StopZ80				; Stop the Z80

	lea	FMSFXDriver(pc),a0		; Load FM SFX sound driver
	lea	Z80RAM,a1
	move.w	#FMSFXDriverEnd-FMSFXDriver-1,d7

.LoadDriver:
	move.b	(a0)+,(a1)+
	dbf	d7,.LoadDriver

	Z80RESON				; Set Z80 reset on
	Z80RESOFF				; Set Z80 reset off
	bsr.w	StartZ80			; Start the Z80

	move.b	#%10010000,titleFlags		; Set title screen flags
	rts

; -------------------------------------------------------------------------
; Read player 2 controller data
; -------------------------------------------------------------------------

ReadController:
	lea	ctrlData,a0			; Controller data buffer
	lea	IODATA2,a1			; Controller port 2

	move.b	#0,(a1)				; TH = 0
	tst.w	(a0)				; Delay
	move.b	(a1),d0				; Read start and A buttons
	lsl.b	#2,d0
	andi.b	#$C0,d0
	
	move.b	#$40,(a1)			; TH = 1
	tst.w	(a0)				; Delay
	move.b	(a1),d1				; Read B, C, and D-pad buttons
	andi.b	#$3F,d1

	or.b	d1,d0				; Combine button data
	not.b	d0				; Flip bits
	move.b	d0,d1				; Make copy

	move.b	(a0),d2				; Mask out tapped buttons
	eor.b	d2,d0
	move.b	d1,(a0)+			; Store pressed buttons
	and.b	d1,d0				; store tapped buttons
	move.b	d0,(a0)+
	rts

; -------------------------------------------------------------------------

ctrlData:					; Controller data
ctrlPress:
	dc.b	0				; Controller pressed buttons data
ctrlTap:
	dc.b	0				; Controller tapped buttons data

; -------------------------------------------------------------------------
; VDP register data
; -------------------------------------------------------------------------

VDPRegs:
	dc.b	%00000100			; No H-INT
	dc.b	%00110100			; V-INT, DMA, mode 5
	dc.b	$C000/$400			; Plane A location
	dc.b	0				; Window location
	dc.b	$C000/$2000			; Plane B location
	dc.b	$E000/$200			; Sprite table location
	dc.b	0				; Reserved
	dc.b	0				; BG color line 0 color 0
	dc.b	0				; Reserved
	dc.b	0				; Reserved
	dc.b	0				; H-INT counter 0
	dc.b	%00000000			; Scroll by screen
	dc.b	%10000001			; H40
	dc.b	$E400/$400			; Horizontal scroll table lcation
	dc.b	0				; Reserved
	dc.b	2				; Auto increment by 2
	dc.b	%00000001			; 64x32 tile plane size
	dc.b	0				; Window horizontal position 0
	dc.b	0				; Window vertical position 0
VDPRegsEnd:
	even

; -------------------------------------------------------------------------
; FM SFX Sound driver
; -------------------------------------------------------------------------

FMSFXDriver:
	dc.b	$F3, $F3, $ED, $56, $18, $1F, $00, $00, $21, $D7, $06, $06
	dc.b	$00, $09, $08, $E7, $08, $C9, $00, $00, $00, $00, $00, $00
	dc.b	$4F, $06, $00, $09, $09, $00, $00, $00, $7E, $23, $66, $6F
	dc.b	$C9, $31, $FD, $1F, $0E, $00, $06, $00, $10, $FE, $0D, $20
	dc.b	$F9, $CD, $C7, $03, $CD, $03, $04, $3A, $00, $40, $CB, $4F
	dc.b	$28, $F6, $CD, $46, $00, $CD, $5A, $00, $18, $EE, $0E, $C8
	dc.b	$3E, $26, $CD, $CD, $02, $3E, $2F, $21, $12, $1C, $B6, $4F
	dc.b	$3E, $27, $CD, $CD, $02, $C9, $CD, $12, $03, $DD, $21, $40
	dc.b	$1C, $06, $06, $C5, $DD, $CB, $00, $7E, $C4, $74, $00, $11
	dc.b	$30, $00, $DD, $19, $C1, $10, $F0, $C9, $CD, $BB, $01, $20
	dc.b	$17, $CD, $F8, $00, $DD, $CB, $00, $66, $C0, $CD, $C3, $01
	dc.b	$CD, $67, $02, $CD, $EE, $01, $CD, $AC, $00, $C3, $3B, $02
	dc.b	$DD, $CB, $00, $66, $C0, $DD, $7E, $1E, $B7, $28, $06, $DD
	dc.b	$35, $1E, $CA, $54, $02, $CD, $67, $02, $DD, $CB, $00, $76
	dc.b	$C0, $CD, $EE, $01, $DD, $CB, $00, $56, $C0, $DD, $CB, $00
	dc.b	$46, $C2, $C5, $00, $3E, $A4, $4C, $CD, $BF, $02, $3E, $A0
	dc.b	$4D, $CD, $BF, $02, $C9, $DD, $7E, $01, $FE, $02, $20, $EC
	dc.b	$11, $1A, $1C, $D9, $21, $72, $04, $06, $04, $7E, $F5, $23
	dc.b	$D9, $EB, $4E, $23, $46, $23, $EB, $DD, $6E, $0D, $DD, $66
	dc.b	$0E, $09, $F1, $F5, $4C, $CD, $CD, $02, $F1, $D6, $04, $4D
	dc.b	$CD, $CD, $02, $D9, $10, $DF, $D9, $C9, $DD, $5E, $03, $DD
	dc.b	$56, $04, $DD, $CB, $00, $8E, $DD, $CB, $00, $A6, $1A, $13
	dc.b	$FE, $E0, $D2, $8E, $04, $08, $CD, $54, $02, $08, $DD, $CB
	dc.b	$00, $5E, $C2, $63, $01, $B7, $F2, $89, $01, $D6, $81, $F2
	dc.b	$28, $01, $DD, $CB, $00, $E6, $18, $21, $DD, $86, $05, $D5
	dc.b	$16, $08, $1E, $0C, $08, $AF, $08, $93, $38, $04, $08, $82
	dc.b	$18, $F8, $83, $21, $76, $04, $DF, $08, $B4, $67, $D1, $DD
	dc.b	$75, $0D, $DD, $74, $0E, $DD, $CB, $00, $6E, $20, $0D, $1A
	dc.b	$B7, $F2, $88, $01, $DD, $7E, $0C, $DD, $77, $0B, $18, $33
	dc.b	$1A, $13, $DD, $77, $10, $18, $24, $67, $1A, $13, $6F, $B4
	dc.b	$28, $0C, $DD, $7E, $05, $06, $00, $B7, $F2, $74, $01, $05
	dc.b	$4F, $09, $DD, $75, $0D, $DD, $74, $0E, $DD, $CB, $00, $6E
	dc.b	$28, $05, $1A, $13, $DD, $77, $10, $1A, $13, $CD, $B1, $01
	dc.b	$DD, $77, $0C, $DD, $73, $03, $DD, $72, $04, $DD, $7E, $0C
	dc.b	$DD, $77, $0B, $DD, $CB, $00, $4E, $C0, $AF, $DD, $77, $25
	dc.b	$DD, $77, $22, $DD, $77, $17, $DD, $7E, $1F, $DD, $77, $1E
	dc.b	$C9, $DD, $46, $02, $05, $C8, $4F, $81, $10, $FD, $C9, $DD
	dc.b	$7E, $0B, $3D, $DD, $77, $0B, $C9, $DD, $CB, $07, $7E, $C8
	dc.b	$DD, $CB, $00, $4E, $C0, $DD, $5E, $20, $DD, $56, $21, $DD
	dc.b	$E5, $E1, $06, $00, $0E, $24, $09, $EB, $ED, $A0, $ED, $A0
	dc.b	$ED, $A0, $7E, $CB, $3F, $12, $AF, $DD, $77, $22, $DD, $77
	dc.b	$23, $C9, $DD, $7E, $07, $B7, $C8, $DD, $35, $24, $C0, $DD
	dc.b	$34, $24, $E5, $DD, $6E, $22, $DD, $66, $23, $DD, $35, $25
	dc.b	$20, $20, $DD, $5E, $20, $DD, $56, $21, $D5, $FD, $E1, $FD
	dc.b	$7E, $01, $DD, $77, $25, $DD, $7E, $26, $4F, $E6, $80, $07
	dc.b	$ED, $44, $47, $09, $DD, $75, $22, $DD, $74, $23, $C1, $09
	dc.b	$DD, $35, $27, $C0, $FD, $7E, $03, $DD, $77, $27, $DD, $7E
	dc.b	$26, $ED, $44, $DD, $77, $26, $C9, $DD, $7E, $0D, $DD, $B6
	dc.b	$0E, $C8, $DD, $7E, $00, $E6, $06, $C0, $DD, $7E, $01, $F6
	dc.b	$F0, $4F, $3E, $28, $CD, $CD, $02, $C9, $DD, $7E, $00, $E6
	dc.b	$06, $C0, $DD, $CB, $00, $B6, $DD, $4E, $01, $3E, $28, $CD
	dc.b	$CD, $02, $C9, $06, $00, $DD, $7E, $10, $B7, $F2, $71, $02
	dc.b	$05, $DD, $66, $0E, $DD, $6E, $0D, $4F, $09, $EB, $3E, $07
	dc.b	$A2, $47, $4B, $B7, $21, $83, $02, $ED, $42, $38, $06, $21
	dc.b	$85, $FA, $19, $18, $0E, $B7, $21, $08, $05, $ED, $42, $30
	dc.b	$05, $21, $7C, $05, $19, $EB, $EB, $DD, $CB, $00, $6E, $C8
	dc.b	$DD, $74, $0E, $DD, $75, $0D, $C9, $06, $00, $09, $4D, $44
	dc.b	$0A, $C9, $DD, $6E, $2A, $DD, $66, $2B, $AF, $B0, $28, $06
	dc.b	$11, $19, $00, $19, $10, $FD, $C9, $DD, $CB, $01, $56, $20
	dc.b	$11, $DD, $CB, $00, $56, $C0, $DD, $86, $01, $32, $00, $40
	dc.b	$00, $79, $32, $01, $40, $C9, $DD, $CB, $00, $56, $C0, $DD
	dc.b	$86, $01, $D6, $04, $32, $02, $40, $00, $79, $32, $03, $40
	dc.b	$C9, $11, $55, $04, $DD, $4E, $0A, $3E, $B4, $CD, $BF, $02
	dc.b	$CD, $0A, $03, $DD, $77, $1B, $06, $14, $CD, $0A, $03, $10
	dc.b	$FB, $DD, $75, $1C, $DD, $74, $1D, $C3, $F9, $05, $1A, $13
	dc.b	$4E, $23, $CD, $BF, $02, $C9, $3A, $09, $1C, $CB, $7F, $CA
	dc.b	$C7, $03, $FE, $E0, $DA, $2E, $03, $C3, $C7, $03, $80, $00
	dc.b	$80, $01, $80, $02, $80, $04, $80, $05, $80, $06, $D6, $90
	dc.b	$F8, $0E, $06, $CF, $DF, $E5, $E7, $22, $39, $1C, $AF, $32
	dc.b	$15, $1C, $E1, $E5, $FD, $E1, $FD, $7E, $02, $32, $3B, $1C
	dc.b	$11, $04, $00, $19, $FD, $46, $03, $C5, $E5, $23, $4E, $CD
	dc.b	$8E, $03, $DD, $E5, $D1, $E1, $ED, $A0, $1A, $FE, $02, $CC
	dc.b	$EE, $03, $ED, $A0, $3A, $3B, $1C, $12, $13, $ED, $A0, $ED
	dc.b	$A0, $ED, $A0, $ED, $A0, $CD, $A1, $03, $E5, $2A, $39, $1C
	dc.b	$DD, $75, $2A, $DD, $74, $2B, $CD, $54, $02, $CD, $FC, $03
	dc.b	$E1, $C1, $10, $C7, $3E, $80, $32, $09, $1C, $C9, $79, $CB
	dc.b	$57, $28, $01, $3D, $32, $32, $1C, $F5, $21, $BB, $03, $DF
	dc.b	$E5, $DD, $E1, $F1, $C9, $08, $AF, $12, $13, $12, $13, $08
	dc.b	$EB, $36, $30, $23, $36, $C0, $23, $36, $01, $06, $24, $23
	dc.b	$36, $00, $10, $FB, $23, $EB, $C9, $40, $1C, $70, $1C, $A0
	dc.b	$1C, $D0, $1C, $00, $1D, $30, $1D, $21, $09, $1C, $11, $0A
	dc.b	$1C, $01, $56, $01, $36, $00, $ED, $B0, $DD, $21, $22, $03
	dc.b	$06, $06, $C5, $CD, $35, $04, $CD, $FC, $03, $DD, $23, $DD
	dc.b	$23, $C1, $10, $F2, $06, $07, $AF, $32, $0D, $1C, $3E, $0F
	dc.b	$32, $12, $1C, $4F, $3E, $27, $CD, $CD, $02, $C3, $88, $03
	dc.b	$3E, $90, $0E, $00, $C3, $49, $04, $ED, $5F, $32, $17, $1C
	dc.b	$11, $0A, $1C, $CD, $11, $04, $CD, $11, $04, $1A, $CB, $7F
	dc.b	$C8, $D6, $90, $D8, $0E, $00, $CF, $4F, $06, $00, $09, $3A
	dc.b	$18, $1C, $BE, $28, $02, $30, $0A, $1A, $32, $09, $1C, $7E
	dc.b	$E6, $7F, $32, $18, $1C, $AF, $12, $13, $C9, $CD, $45, $04
	dc.b	$3E, $40, $0E, $7F, $CD, $49, $04, $DD, $4E, $01, $C3, $5A
	dc.b	$02, $3E, $80, $0E, $FF, $06, $04, $F5, $CD, $BF, $02, $F1
	dc.b	$C6, $04, $10, $F7, $C9, $B0, $30, $38, $34, $3C, $50, $58
	dc.b	$54, $5C, $60, $68, $64, $6C, $70, $78, $74, $7C, $80, $88
	dc.b	$84, $8C, $40, $48, $44, $4C, $90, $98, $94, $9C, $AD, $AE
	dc.b	$AC, $A6, $84, $02, $AB, $02, $D3, $02, $FE, $02, $2D, $03
	dc.b	$5C, $03, $8F, $03, $C5, $03, $FF, $03, $3C, $04, $7C, $04
	dc.b	$C0, $04, $21, $9A, $04, $E5, $D6, $E0, $21, $9E, $04, $DF
	dc.b	$1A, $E9, $13, $C3, $06, $01, $D5, $05, $37, $05, $3B, $05
	dc.b	$3F, $05, $4F, $06, $C1, $06, $F3, $05, $77, $05, $45, $05
	dc.b	$E8, $05, $4F, $06, $0D, $05, $16, $05, $4F, $05, $56, $05
	dc.b	$C4, $05, $63, $05, $71, $05, $4F, $06, $65, $06, $4F, $06
	dc.b	$4F, $06, $25, $06, $AA, $06, $7D, $06, $97, $06, $21, $06
	dc.b	$1A, $06, $2B, $06, $41, $06, $7D, $05, $EC, $04, $4F, $06
	dc.b	$F3, $04, $FA, $04, $4F, $06, $FF, $04, $4F, $06, $1C, $05
	dc.b	$21, $DE, $04, $DF, $13, $1A, $E9, $21, $14, $1C, $77, $2B
	dc.b	$77, $C9, $21, $09, $1C, $77, $C9, $EB, $5E, $23, $56, $23
	dc.b	$4E, $06, $00, $23, $EB, $ED, $B0, $1B, $C9, $3A, $3E, $1C
	dc.b	$B7, $CA, $25, $06, $13, $C9, $3E, $80, $32, $3D, $1C, $C9
	dc.b	$DD, $36, $18, $80, $DD, $73, $19, $DD, $72, $1A, $21, $6E
	dc.b	$04, $06, $04, $1A, $13, $4F, $7E, $23, $CD, $BF, $02, $10
	dc.b	$F6, $1B, $C9, $DD, $77, $10, $C9, $32, $16, $1C, $C9, $CD
	dc.b	$35, $04, $C3, $4F, $06, $CD, $B1, $01, $DD, $77, $1E, $DD
	dc.b	$77, $1F, $C9, $CD, $5D, $05, $CD, $BF, $02, $C9, $CD, $5D
	dc.b	$05, $CD, $CD, $02, $C9, $EB, $7E, $23, $4E, $EB, $C9, $DD
	dc.b	$73, $20, $DD, $72, $21, $DD, $36, $07, $80, $13, $13, $13
	dc.b	$C9, $DD, $CB, $07, $BE, $1B, $C9, $DD, $CB, $00, $CE, $1B
	dc.b	$C9, $DD, $7E, $01, $FE, $02, $20, $2C, $DD, $CB, $00, $C6
	dc.b	$D9, $11, $1A, $1C, $06, $04, $C5, $D9, $1A, $13, $D9, $21
	dc.b	$B4, $05, $87, $4F, $06, $00, $09, $ED, $A0, $ED, $A0, $C1
	dc.b	$10, $EC, $D9, $1B, $3E, $4F, $32, $12, $1C, $4F, $3E, $27
	dc.b	$CD, $CD, $02, $C9, $13, $13, $13, $C9, $00, $00, $32, $01
	dc.b	$8E, $01, $E4, $01, $34, $02, $7E, $02, $C2, $02, $F0, $02
	dc.b	$CD, $45, $04, $1A, $DD, $77, $08, $D5, $47, $CD, $AE, $02
	dc.b	$CD, $E9, $02, $D1, $C9, $0E, $3F, $DD, $7E, $0A, $A1, $EB
	dc.b	$B6, $DD, $77, $0A, $4F, $3E, $B4, $CD, $BF, $02, $EB, $C9
	dc.b	$4F, $3E, $22, $CD, $CD, $02, $13, $0E, $C0, $18, $E4, $DD
	dc.b	$86, $06, $DD, $77, $06, $D9, $11, $6A, $04, $DD, $6E, $1C
	dc.b	$DD, $66, $1D, $06, $04, $7E, $B7, $F2, $0D, $06, $DD, $86
	dc.b	$06, $E6, $7F, $4F, $1A, $CD, $BF, $02, $13, $23, $10, $ED
	dc.b	$D9, $C9, $DD, $86, $05, $DD, $77, $05, $C9, $DD, $77, $02
	dc.b	$C9, $EB, $5E, $23, $56, $1B, $C9, $FE, $01, $20, $05, $DD
	dc.b	$CB, $00, $EE, $C9, $DD, $CB, $00, $8E, $DD, $CB, $00, $AE
	dc.b	$AF, $DD, $77, $10, $C9, $FE, $01, $20, $05, $DD, $CB, $00
	dc.b	$DE, $C9, $DD, $CB, $00, $9E, $C9, $DD, $CB, $00, $BE, $3E
	dc.b	$1F, $32, $15, $1C, $DD, $4E, $01, $CD, $5A, $02, $AF, $32
	dc.b	$18, $1C, $E1, $E1, $C9, $3A, $3D, $1C, $B7, $28, $0B, $AF
	dc.b	$32, $3D, $1C, $3E, $A8, $32, $0A, $1C, $1B, $C9, $3E, $80
	dc.b	$32, $3D, $1C, $1B, $C9, $4F, $13, $1A, $47, $C5, $DD, $E5
	dc.b	$E1, $DD, $35, $09, $DD, $4E, $09, $DD, $35, $09, $06, $00
	dc.b	$09, $72, $2B, $73, $D1, $1B, $C9, $DD, $E5, $E1, $DD, $4E
	dc.b	$09, $06, $00, $09, $5E, $23, $56, $DD, $34, $09, $DD, $34
	dc.b	$09, $C9, $13, $C6, $28, $4F, $06, $00, $DD, $E5, $E1, $09
	dc.b	$7E, $B7, $20, $02, $1A, $77, $13, $35, $C2, $25, $06, $13
	dc.b	$C9, $13, $C6, $28, $4F, $06, $00, $DD, $E5, $E1, $09, $7E
	dc.b	$3D, $CA, $D2, $06, $13, $C9, $AF, $77, $C3, $25, $06, $8B
	dc.b	$07, $00, $00, $EB, $06, $EB, $06, $00, $00, $00, $00, $90
	dc.b	$00, $00, $00, $00, $1C, $00, $00, $DA, $07, $1D, $08, $B8
	dc.b	$08, $EB, $08, $1D, $09, $5E, $09, $8D, $09, $DE, $09, $0B
	dc.b	$0A, $60, $0A, $88, $0A, $10, $0B, $4A, $0B, $82, $0B, $B9
	dc.b	$0B, $11, $0C, $5D, $0C, $85, $0C, $B3, $0C, $0E, $0D, $59
	dc.b	$0D, $84, $0D, $AC, $0D, $E6, $0D, $0F, $0E, $3D, $0E, $4F
	dc.b	$0E, $83, $0E, $8F, $0E, $C4, $0E, $FA, $0E, $24, $0F, $9E
	dc.b	$0F, $DA, $0F, $02, $10, $32, $10, $69, $10, $C7, $10, $F1
	dc.b	$10, $40, $11, $9E, $11, $20, $12, $57, $12, $8D, $12, $BA
	dc.b	$12, $F1, $12, $1E, $13, $46, $13, $70, $13, $9A, $13, $C3
	dc.b	$13, $EB, $13, $1C, $14, $56, $14, $83, $14, $BA, $14, $E2
	dc.b	$14, $0F, $15, $4B, $15, $73, $15, $B5, $15, $EA, $15, $43
	dc.b	$16, $99, $16, $D5, $16, $FF, $16, $39, $17, $66, $17, $A7
	dc.b	$17, $DB, $17, $0E, $18, $42, $18, $7E, $18, $35, $19, $90
	dc.b	$19, $BF, $19, $F3, $19, $27, $1A, $5B, $1A, $8F, $1A, $7A
	dc.b	$7A, $7A, $7D, $7D, $70, $70, $7A, $70, $6D, $7D, $7A, $7A
	dc.b	$70, $7A, $6D, $70, $6D, $70, $70, $6D, $6D, $6D, $70, $70
	dc.b	$7D, $70, $7D, $70, $7D, $7A, $7A, $70, $70, $70, $6D, $70
	dc.b	$70, $7A, $70, $7D, $7D, $6A, $6D, $7D, $6D, $6D, $6D, $70
	dc.b	$70, $70, $7A, $70, $70, $70, $70, $7D, $70, $70, $6D, $6D
	dc.b	$70, $7A, $70, $6D, $6D, $7A, $70, $70, $6D, $6A, $6D, $70
	dc.b	$70, $70, $70, $70, $70, $70, $04, $08, $01, $02, $80, $00
	dc.b	$EA, $07, $F6, $10, $80, $01, $F6, $07, $F7, $10, $EF, $00
	dc.b	$AF, $01, $80, $01, $F7, $00, $0B, $EC, $07, $F2, $EF, $00
	dc.b	$80, $01, $AD, $01, $80, $01, $F7, $00, $0B, $FA, $07, $F2
	dc.b	$07, $07, $07, $08, $08, $1F, $1F, $1F, $1F, $00, $00, $00
	dc.b	$00, $00, $00, $00, $00, $0F, $0F, $0F, $0F, $80, $80, $80
	dc.b	$80, $6D, $08, $01, $02, $80, $00, $2D, $08, $00, $0A, $80
	dc.b	$01, $47, $08, $00, $00, $EF, $00, $F0, $01, $01, $20, $08
	dc.b	$80, $0A, $88, $0F, $F7, $00, $03, $36, $08, $88, $0A, $E6
	dc.b	$05, $F7, $00, $06, $3D, $08, $F2, $EF, $01, $F0, $01, $01
	dc.b	$C5, $1A, $CD, $07, $FB, $0C, $E6, $09, $EF, $02, $F0, $03
	dc.b	$01, $09, $FF, $CA, $25, $F0, $00, $01, $00, $00, $E7, $E6
	dc.b	$01, $CB, $02, $F7, $00, $2A, $62, $08, $F2, $FA, $21, $30
	dc.b	$10, $32, $1F, $1F, $1F, $1F, $05, $18, $09, $02, $06, $0F
	dc.b	$06, $02, $1F, $2F, $4F, $2F, $0F, $1A, $0E, $80, $FD, $09
	dc.b	$03, $00, $00, $1F, $1F, $1F, $1F, $10, $0C, $0C, $0C, $0B
	dc.b	$1F, $10, $05, $1F, $2F, $4F, $2F, $09, $80, $8E, $88, $3C
	dc.b	$00, $44, $02, $02, $1F, $1F, $1F, $15, $00, $1F, $00, $00
	dc.b	$00, $00, $00, $00, $0F, $0F, $0F, $0F, $0D, $80, $28, $80
	dc.b	$D2, $08, $01, $01, $80, $00, $C2, $08, $EA, $09, $EF, $00
	dc.b	$E6, $05, $AA, $04, $E6, $FB, $F0, $02, $01, $34, $FF, $AF
	dc.b	$15, $F2, $0C, $08, $08, $08, $08, $1F, $1F, $1F, $1F, $00
	dc.b	$0A, $00, $0A, $00, $00, $00, $0A, $FF, $FF, $FF, $FF, $55
	dc.b	$81, $33, $81, $04, $09, $01, $01, $80, $01, $F5, $08, $F4
	dc.b	$00, $EF, $00, $B0, $07, $E7, $AD, $01, $E6, $01, $F7, $00
	dc.b	$2F, $FB, $08, $F2, $30, $30, $30, $30, $30, $9E, $D8, $DC
	dc.b	$DC, $0E, $0A, $04, $05, $08, $08, $08, $08, $BF, $BF, $BF
	dc.b	$BF, $14, $3C, $14, $80, $45, $09, $01, $02, $80, $02, $2D
	dc.b	$09, $00, $05, $80, $04, $39, $09, $00, $08, $EF, $00, $C6
	dc.b	$02, $05, $05, $05, $05, $05, $05, $3A, $F2, $EF, $00, $80
	dc.b	$02, $C4, $02, $05, $15, $02, $05, $32, $F2, $04, $37, $72
	dc.b	$77, $49, $1F, $1F, $1F, $1F, $07, $0A, $07, $0D, $00, $0B
	dc.b	$00, $0B, $1F, $0F, $1F, $0F, $23, $80, $23, $80, $74, $09
	dc.b	$01, $01, $80, $04, $68, $09, $00, $05, $F3, $EF, $00, $E0
	dc.b	$40, $C1, $05, $C4, $05, $C9, $1B, $F2, $04, $37, $72, $77
	dc.b	$49, $1F, $1F, $1F, $1F, $07, $0A, $07, $0D, $00, $0B, $00
	dc.b	$0B, $1F, $0F, $1F, $0F, $23, $80, $23, $80, $AC, $09, $01
	dc.b	$02, $80, $02, $9D, $09, $00, $00, $80, $04, $A7, $09, $00
	dc.b	$0B, $F0, $03, $01, $72, $0B, $EF, $00, $BA, $16, $F2, $EF
	dc.b	$01, $B0, $13, $F2, $3C, $0F, $01, $03, $01, $1F, $1F, $1F
	dc.b	$1F, $19, $12, $19, $0E, $05, $12, $00, $0F, $0F, $7F, $FF
	dc.b	$FF, $00, $80, $00, $80, $3C, $0F, $00, $00, $00, $1F, $1A
	dc.b	$18, $1C, $17, $11, $1A, $0E, $00, $0F, $14, $10, $1F, $9F
	dc.b	$9F, $2F, $07, $80, $26, $80, $F2, $09, $01, $01, $80, $01
	dc.b	$E8, $09, $0C, $00, $EF, $00, $80, $01, $A3, $05, $E7, $A4
	dc.b	$26, $F2, $30, $30, $30, $30, $30, $9E, $A8, $AC, $DC, $0E
	dc.b	$0A, $04, $05, $08, $08, $08, $08, $BF, $BF, $BF, $BF, $04
	dc.b	$2C, $14, $80, $2E, $0A, $01, $01, $80, $06, $15, $0A, $00
	dc.b	$07, $EF, $00, $80, $01, $F0, $03, $01, $5D, $0F, $B0, $06
	dc.b	$F1, $EF, $01, $BD, $02, $E6, $01, $E7, $F7, $00, $19, $23
	dc.b	$0A, $F2, $20, $36, $35, $30, $31, $DF, $DF, $9F, $9F, $07
	dc.b	$06, $09, $06, $07, $06, $06, $08, $2F, $1F, $1F, $FF, $16
	dc.b	$30, $13, $80, $20, $31, $33, $30, $31, $9F, $9F, $9F, $9F
	dc.b	$07, $06, $09, $06, $07, $06, $06, $08, $2F, $1F, $1F, $FF
	dc.b	$19, $23, $11, $80, $6F, $0A, $01, $01, $80, $01, $6A, $0A
	dc.b	$00, $00, $EF, $00, $B5, $02, $F2, $07, $0A, $0A, $0A, $0A
	dc.b	$1F, $1F, $1F, $1F, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$0F, $0F, $0F, $0F, $88, $88, $88, $88, $C5, $0A, $01, $04
	dc.b	$80, $04, $B4, $0A, $F5, $05, $80, $05, $AD, $0A, $00, $00
	dc.b	$80, $02, $BE, $0A, $00, $00, $80, $06, $A4, $0A, $00, $00
	dc.b	$EF, $00, $8A, $08, $80, $02, $8A, $08, $F2, $EF, $01, $80
	dc.b	$12, $C6, $55, $F2, $EF, $02, $80, $02, $C2, $05, $04, $05
	dc.b	$04, $F2, $EF, $01, $80, $12, $C6, $55, $F2, $3B, $03, $02
	dc.b	$03, $06, $18, $1A, $1A, $96, $17, $0E, $0A, $10, $00, $00
	dc.b	$00, $00, $FF, $FF, $FF, $FF, $00, $28, $39, $80, $04, $37
	dc.b	$72, $77, $49, $1F, $1F, $1F, $1F, $07, $0A, $07, $0D, $00
	dc.b	$0B, $00, $0B, $1F, $0F, $1F, $0F, $23, $80, $23, $80, $3C
	dc.b	$0F, $00, $00, $00, $1F, $1A, $18, $1C, $17, $11, $1A, $0E
	dc.b	$00, $0F, $14, $10, $1F, $9F, $9F, $2F, $07, $80, $26, $8C
	dc.b	$31, $0B, $01, $01, $80, $00, $1A, $0B, $00, $05, $EF, $00
	dc.b	$80, $01, $F0, $03, $01, $09, $FF, $CA, $25, $F1, $E7, $E6
	dc.b	$01, $D1, $02, $F7, $00, $2A, $26, $0B, $F2, $3C, $00, $44
	dc.b	$02, $02, $1F, $1F, $1F, $15, $00, $1F, $00, $00, $00, $00
	dc.b	$00, $00, $0F, $0F, $0F, $0F, $0D, $80, $28, $80, $69, $0B
	dc.b	$01, $01, $80, $00, $54, $0B, $00, $05, $EF, $00, $80, $01
	dc.b	$F0, $01, $01, $09, $FF, $CA, $22, $F1, $E6, $02, $E7, $D1
	dc.b	$02, $F6, $62, $0B, $F2, $3C, $00, $44, $02, $02, $1F, $1F
	dc.b	$1F, $15, $00, $1F, $00, $00, $00, $00, $00, $00, $0F, $0F
	dc.b	$0F, $0F, $0D, $80, $28, $80, $A0, $0B, $01, $02, $80, $05
	dc.b	$92, $0B, $27, $03, $80, $06, $94, $0B, $27, $00, $80, $04
	dc.b	$EF, $00, $B4, $05, $E6, $04, $F7, $00, $08, $96, $0B, $F2
	dc.b	$F4, $06, $04, $0F, $0E, $1F, $1F, $1F, $1F, $00, $00, $0B
	dc.b	$0B, $00, $00, $05, $08, $0F, $0F, $FF, $FF, $0C, $85, $00
	dc.b	$80, $DF, $0B, $01, $02, $80, $02, $C9, $0B, $0B, $02, $80
	dc.b	$04, $DA, $0B, $00, $02, $EF, $00, $F0, $03, $01, $20, $04
	dc.b	$81, $0E, $E6, $0E, $F7, $00, $04, $D0, $0B, $F2, $EF, $01
	dc.b	$AE, $13, $F2, $F9, $21, $30, $10, $32, $1F, $1F, $1F, $1F
	dc.b	$05, $18, $09, $02, $0B, $1F, $10, $05, $1F, $2F, $4F, $2F
	dc.b	$0E, $06, $04, $80, $3C, $0F, $00, $00, $00, $1F, $1A, $18
	dc.b	$1C, $17, $11, $1A, $0E, $00, $0F, $14, $10, $1F, $9F, $9F
	dc.b	$2F, $07, $80, $26, $80, $2B, $0C, $01, $02, $80, $05, $21
	dc.b	$0C, $00, $03, $80, $06, $26, $0C, $00, $05, $EF, $00, $BA
	dc.b	$15, $F2, $EF, $01, $BA, $10, $F2, $07, $03, $03, $02, $00
	dc.b	$6F, $4F, $6F, $3F, $12, $11, $14, $0E, $1A, $03, $0A, $0D
	dc.b	$FF, $FF, $FF, $FF, $83, $86, $86, $80, $3C, $0F, $00, $00
	dc.b	$00, $1F, $1A, $18, $1C, $17, $11, $1A, $0E, $00, $0F, $14
	dc.b	$10, $1F, $9F, $9F, $2F, $07, $80, $16, $80, $6C, $0C, $01
	dc.b	$01, $80, $04, $67, $0C, $00, $00, $EF, $00, $97, $15, $F2
	dc.b	$3C, $05, $00, $00, $00, $1F, $1F, $1F, $1F, $00, $0F, $15
	dc.b	$11, $00, $0C, $00, $0A, $0F, $EF, $FF, $EF, $05, $80, $00
	dc.b	$80, $9A, $0C, $01, $01, $80, $04, $8F, $0C, $10, $0A, $EF
	dc.b	$00, $C0, $03, $80, $02, $D0, $03, $80, $02, $F2, $F9, $21
	dc.b	$30, $10, $32, $1F, $1F, $1F, $1F, $05, $18, $09, $02, $0B
	dc.b	$1F, $10, $05, $1F, $2F, $4F, $2F, $0C, $06, $04, $80, $DC
	dc.b	$0C, $01, $02, $80, $02, $C3, $0C, $10, $08, $80, $04, $D6
	dc.b	$0C, $00, $00, $EF, $00, $F0, $03, $01, $20, $04, $81, $06
	dc.b	$81, $0E, $E6, $0E, $F7, $00, $04, $CC, $0C, $F2, $EF, $01
	dc.b	$A6, $06, $14, $F2, $F9, $21, $30, $10, $32, $1C, $1F, $1F
	dc.b	$10, $05, $18, $09, $02, $0B, $1F, $10, $05, $1F, $2F, $4F
	dc.b	$2F, $0C, $06, $04, $80, $00, $00, $03, $02, $00, $D9, $DF
	dc.b	$1F, $1F, $12, $11, $14, $0F, $0A, $00, $0A, $0D, $FF, $FF
	dc.b	$FF, $FF, $22, $07, $27, $80, $40, $0D, $01, $03, $80, $04
	dc.b	$24, $0D, $10, $05, $80, $05, $2B, $0D, $10, $05, $80, $06
	dc.b	$2F, $0D, $00, $05, $E0, $40, $80, $02, $F6, $2F, $0D, $E0
	dc.b	$80, $80, $01, $EF, $00, $F0, $03, $01, $20, $04, $81, $18
	dc.b	$E6, $0A, $F7, $00, $06, $36, $0D, $F2, $F9, $21, $30, $10
	dc.b	$32, $1F, $1F, $1F, $1F, $05, $18, $09, $02, $0B, $1F, $10
	dc.b	$05, $1F, $2F, $4F, $2F, $0E, $07, $04, $80, $6B, $0D, $01
	dc.b	$01, $80, $06, $63, $0D, $F4, $00, $EF, $00, $9B, $04, $80
	dc.b	$A0, $06, $F2, $3C, $00, $00, $00, $00, $1F, $1F, $1F, $1F
	dc.b	$00, $16, $0F, $0F, $00, $00, $00, $00, $0F, $AF, $FF, $FF
	dc.b	$00, $80, $0A, $80, $93, $0D, $01, $01, $80, $06, $8E, $0D
	dc.b	$00, $08, $EF, $00, $C0, $0B, $F2, $3D, $01, $03, $03, $03
	dc.b	$14, $0E, $0E, $0D, $08, $35, $02, $91, $00, $50, $60, $56
	dc.b	$1F, $1F, $1F, $1F, $18, $82, $97, $80, $CD, $0D, $01, $01
	dc.b	$80, $06, $B6, $0D, $00, $0D, $EF, $00, $D0, $02, $E7, $01
	dc.b	$EB, $BA, $0D, $E7, $01, $E6, $01, $F7, $00, $22, $BF, $0D
	dc.b	$80, $01, $E2, $00, $F2, $38, $0F, $0F, $0F, $0F, $1F, $1F
	dc.b	$1F, $0E, $00, $00, $00, $00, $00, $00, $00, $00, $0F, $0F
	dc.b	$0F, $1F, $00, $00, $00, $80, $F6, $0D, $01, $01, $80, $04
	dc.b	$F0, $0D, $00, $03, $EF, $00, $BA, $06, $15, $F2, $02, $03
	dc.b	$00, $00, $00, $0F, $0F, $0F, $12, $12, $11, $14, $0F, $FA
	dc.b	$F3, $FA, $FD, $FF, $FF, $FF, $FF, $05, $19, $05, $83, $24
	dc.b	$0E, $01, $01, $80, $04, $19, $0E, $00, $05, $EF, $00, $E0
	dc.b	$80, $C1, $05, $C4, $05, $C9, $1B, $F2, $04, $37, $72, $77
	dc.b	$49, $1F, $1F, $1F, $1F, $07, $0A, $07, $0D, $00, $0B, $00
	dc.b	$0B, $1F, $0F, $1F, $0F, $23, $80, $23, $80, $6A, $0E, $01
	dc.b	$02, $80, $05, $4D, $0E, $00, $00, $80, $06, $4E, $0E, $00
	dc.b	$0D, $F2, $F2, $6A, $0E, $01, $01, $80, $01, $59, $0E, $00
	dc.b	$05, $EF, $00, $80, $01, $F0, $03, $01, $09, $FF, $CA, $06
	dc.b	$F7, $00, $03, $62, $0E, $F2, $3C, $00, $44, $02, $02, $1F
	dc.b	$1F, $1F, $15, $00, $1F, $00, $00, $00, $00, $00, $00, $0F
	dc.b	$0F, $0F, $0F, $0D, $80, $28, $80, $6A, $0E, $01, $01, $80
	dc.b	$00, $8D, $0E, $00, $00, $F2, $F2, $AB, $0E, $01, $02, $80
	dc.b	$02, $9F, $0E, $E0, $00, $80, $04, $A4, $0E, $E3, $02, $EF
	dc.b	$00, $B1, $30, $F2, $80, $02, $EF, $00, $B1, $30, $F2, $3B
	dc.b	$05, $32, $00, $00, $5F, $5F, $5F, $5F, $04, $15, $1A, $0B
	dc.b	$00, $04, $00, $00, $0F, $6F, $FF, $FF, $10, $10, $00, $80
	dc.b	$E1, $0E, $01, $01, $80, $01, $CE, $0E, $0C, $00, $EF, $00
	dc.b	$F0, $01, $01, $21, $6E, $A6, $07, $80, $06, $F0, $01, $01
	dc.b	$44, $1E, $AD, $08, $F2, $35, $05, $09, $08, $07, $1E, $0D
	dc.b	$0D, $0E, $0C, $15, $03, $06, $16, $0E, $09, $10, $2F, $2F
	dc.b	$1F, $1F, $15, $12, $12, $80, $0B, $0F, $01, $01, $80, $04
	dc.b	$04, $0F, $00, $01, $EF, $00, $BD, $06, $BA, $16, $F2, $3C
	dc.b	$05, $01, $0A, $01, $56, $5C, $5C, $5C, $0E, $11, $11, $11
	dc.b	$09, $0A, $06, $0A, $4F, $3F, $3F, $3F, $17, $80, $20, $80
	dc.b	$53, $0F, $01, $02, $80, $02, $34, $0F, $0C, $00, $80, $04
	dc.b	$40, $0F, $00, $13, $EF, $01, $80, $01, $A2, $08, $EF, $00
	dc.b	$E7, $AD, $26, $F2, $EF, $02, $F0, $06, $01, $03, $FF, $80
	dc.b	$0A, $C3, $06, $F7, $00, $05, $49, $0F, $C3, $17, $F2, $30
	dc.b	$30, $5C, $34, $30, $9E, $A8, $AC, $DC, $0E, $0A, $04, $05
	dc.b	$08, $08, $08, $08, $BF, $BF, $BF, $BF, $24, $1C, $04, $80
	dc.b	$30, $30, $5C, $34, $30, $9E, $A8, $AC, $DC, $0E, $0A, $04
	dc.b	$05, $08, $08, $08, $08, $BF, $BF, $BF, $BF, $24, $2C, $04
	dc.b	$80, $04, $37, $72, $77, $49, $1F, $1F, $1F, $1F, $07, $0A
	dc.b	$07, $0D, $00, $0B, $00, $0B, $1F, $0F, $1F, $0F, $13, $81
	dc.b	$13, $88, $C1, $0F, $01, $02, $80, $05, $AE, $0F, $10, $07
	dc.b	$80, $06, $B0, $0F, $00, $07, $80, $01, $EF, $00, $F0, $03
	dc.b	$01, $20, $04, $81, $10, $E6, $13, $F7, $00, $06, $B7, $0F
	dc.b	$F2, $F9, $21, $30, $10, $32, $1F, $1F, $1F, $1F, $05, $18
	dc.b	$09, $02, $0B, $1F, $10, $05, $1F, $2F, $4F, $2F, $0E, $07
	dc.b	$04, $80, $E9, $0F, $01, $01, $80, $06, $E4, $0F, $00, $04
	dc.b	$EF, $00, $AA, $3C, $F2, $83, $1F, $15, $1F, $1F, $1F, $1F
	dc.b	$1F, $1F, $00, $00, $00, $08, $00, $00, $00, $0E, $1F, $1F
	dc.b	$1F, $1F, $0B, $16, $01, $82, $19, $10, $01, $01, $80, $06
	dc.b	$0C, $10, $FC, $02, $EF, $00, $B3, $05, $80, $01, $B3, $05
	dc.b	$80, $01, $B3, $09, $F2, $83, $12, $10, $13, $1E, $1F, $1F
	dc.b	$1F, $1F, $00, $00, $00, $00, $02, $02, $02, $02, $2F, $2F
	dc.b	$FF, $3F, $05, $10, $34, $87, $50, $10, $01, $01, $80, $06
	dc.b	$3C, $10, $FF, $00, $EF, $00, $C8, $06, $F0, $01, $01, $F4
	dc.b	$40, $C0, $02, $E7, $E6, $01, $F7, $00, $11, $45, $10, $F2
	dc.b	$34, $0C, $73, $10, $0C, $AF, $FF, $AC, $D5, $06, $02, $00
	dc.b	$01, $02, $04, $0A, $08, $BF, $BF, $BF, $BF, $00, $80, $08
	dc.b	$80, $95, $10, $01, $02, $80, $06, $79, $10, $10, $07, $80
	dc.b	$05, $8E, $10, $00, $00, $EF, $00, $F0, $01, $01, $60, $01
	dc.b	$A7, $05, $80, $08, $F1, $EF, $01, $FB, $F0, $E6, $FC, $84
	dc.b	$22, $F2, $80, $05, $EF, $01, $84, $22, $F2, $FA, $21, $3A
	dc.b	$19, $30, $1F, $1F, $1F, $1F, $05, $18, $09, $02, $0B, $1F
	dc.b	$10, $05, $1F, $2F, $4F, $2F, $0E, $07, $04, $80, $FA, $31
	dc.b	$30, $10, $32, $1F, $1F, $1F, $1F, $05, $18, $05, $10, $0B
	dc.b	$1F, $10, $10, $1F, $2F, $1F, $2F, $0D, $00, $01, $80, $D8
	dc.b	$10, $01, $01, $80, $04, $D1, $10, $D0, $0D, $EF, $00, $92
	dc.b	$03, $9A, $10, $F2, $3D, $12, $70, $13, $30, $5F, $5F, $5F
	dc.b	$5F, $0D, $0D, $0D, $0D, $0D, $0F, $0F, $0F, $4F, $4F, $4F
	dc.b	$4F, $14, $80, $80, $80, $27, $11, $01, $02, $80, $00, $01
	dc.b	$11, $0C, $03, $80, $01, $13, $11, $0E, $03, $EF, $00, $F0
	dc.b	$01, $01, $83, $0C, $8A, $05, $05, $E6, $03, $F7, $00, $0A
	dc.b	$08, $11, $F2, $80, $04, $EF, $00, $F0, $01, $01, $6F, $0E
	dc.b	$8D, $04, $05, $E6, $03, $F7, $00, $0A, $1C, $11, $F2, $35
	dc.b	$14, $1A, $04, $09, $0E, $10, $11, $0E, $0C, $15, $03, $06
	dc.b	$16, $0E, $09, $10, $2F, $2F, $4F, $4F, $2F, $12, $12, $80
	dc.b	$6C, $11, $01, $02, $80, $06, $50, $11, $00, $0A, $80, $05
	dc.b	$61, $11, $00, $00, $EF, $01, $F0, $01, $01, $60, $01, $B1
	dc.b	$05, $F1, $E1, $0A, $E6, $F6, $F6, $63, $11, $80, $05, $EF
	dc.b	$00, $DB, $01, $80, $01, $DB, $11, $F2, $34, $09, $0F, $01
	dc.b	$D7, $1F, $1F, $1F, $1F, $0C, $11, $09, $0F, $0A, $0E, $0D
	dc.b	$0E, $35, $1A, $55, $3A, $0C, $80, $0F, $80, $FA, $21, $3A
	dc.b	$19, $30, $1F, $1F, $1F, $1F, $05, $18, $09, $02, $0B, $1F
	dc.b	$10, $05, $1F, $2F, $4F, $2F, $0E, $07, $04, $80, $D5, $11
	dc.b	$01, $02, $80, $02, $AE, $11, $05, $06, $80, $04, $AF, $11
	dc.b	$00, $03, $F2, $EF, $01, $F0, $01, $01, $C5, $1A, $CE, $07
	dc.b	$FB, $0C, $E6, $05, $EF, $02, $F0, $03, $01, $09, $FF, $CD
	dc.b	$11, $F0, $00, $01, $00, $00, $E7, $E6, $03, $CD, $03, $F7
	dc.b	$00, $12, $CA, $11, $F2, $3B, $3C, $39, $30, $31, $DF, $1F
	dc.b	$1F, $DF, $04, $05, $04, $01, $04, $04, $04, $02, $FF, $0F
	dc.b	$1F, $AF, $11, $20, $0F, $84, $FD, $09, $03, $00, $00, $1F
	dc.b	$1F, $1F, $1F, $10, $0C, $0C, $0C, $0B, $1F, $10, $05, $1F
	dc.b	$2F, $4F, $2F, $09, $80, $8E, $88, $3C, $00, $44, $02, $02
	dc.b	$1F, $1F, $1F, $15, $00, $1F, $00, $00, $00, $00, $00, $00
	dc.b	$0F, $0F, $0F, $0F, $0D, $80, $28, $80, $3E, $12, $01, $02
	dc.b	$80, $02, $30, $12, $18, $00, $80, $04, $30, $12, $10, $03
	dc.b	$EF, $00, $F0, $01, $01, $31, $FF, $C0, $06, $80, $02, $C0
	dc.b	$14, $F2, $3B, $3C, $39, $30, $31, $DF, $1F, $1F, $DF, $04
	dc.b	$05, $04, $01, $04, $04, $04, $02, $FF, $0F, $1F, $AF, $0D
	dc.b	$20, $0C, $80, $74, $12, $01, $02, $80, $06, $67, $12, $FE
	dc.b	$00, $80, $05, $67, $12, $00, $00, $EF, $00, $F0, $01, $01
	dc.b	$ED, $FF, $85, $0A, $F1, $83, $20, $F2, $28, $03, $0A, $11
	dc.b	$03, $1F, $19, $1F, $1F, $02, $01, $02, $0E, $01, $01, $01
	dc.b	$8E, $1F, $1F, $1F, $1F, $25, $26, $1C, $80, $A1, $12, $01
	dc.b	$01, $80, $06, $97, $12, $00, $06, $EF, $00, $F0, $01, $01
	dc.b	$06, $FF, $95, $33, $F2, $28, $03, $0B, $11, $03, $1F, $19
	dc.b	$1F, $1F, $02, $01, $02, $0E, $01, $01, $01, $01, $1F, $1F
	dc.b	$1F, $1F, $15, $26, $1C, $80, $D8, $12, $01, $02, $80, $06
	dc.b	$CA, $12, $13, $0F, $80, $05, $CA, $12, $00, $0F, $EF, $00
	dc.b	$F0, $01, $01, $2A, $FF, $9C, $18, $9F, $18, $A7, $18, $F2
	dc.b	$16, $53, $54, $30, $31, $1F, $1F, $1F, $1F, $05, $08, $06
	dc.b	$08, $05, $05, $07, $05, $2F, $FF, $5F, $2F, $1E, $80, $80
	dc.b	$80, $05, $13, $01, $01, $80, $06, $FB, $12, $07, $05, $EF
	dc.b	$00, $C0, $09, $F7, $00, $08, $FD, $12, $F2, $02, $02, $51
	dc.b	$20, $01, $1E, $1E, $1E, $1E, $10, $0A, $14, $13, $01, $00
	dc.b	$00, $00, $FF, $FF, $FF, $FF, $24, $0E, $1F, $80, $2D, $13
	dc.b	$01, $01, $80, $04, $28, $13, $03, $00, $EF, $00, $C0, $10
	dc.b	$F2, $02, $02, $03, $23, $01, $1E, $1E, $1E, $1E, $10, $0A
	dc.b	$12, $12, $01, $00, $00, $13, $FF, $FF, $FF, $FF, $08, $0E
	dc.b	$1F, $80, $57, $13, $01, $01, $80, $04, $50, $13, $31, $07
	dc.b	$EF, $00, $98, $06, $98, $07, $F2, $3C, $04, $00, $02, $07
	dc.b	$1F, $1A, $18, $1C, $17, $11, $1A, $0E, $00, $0F, $14, $10
	dc.b	$1F, $9F, $9F, $2F, $08, $84, $05, $89, $81, $13, $01, $01
	dc.b	$80, $04, $7A, $13, $30, $00, $EF, $00, $AC, $07, $9C, $07
	dc.b	$F2, $3C, $02, $03, $03, $04, $1F, $1A, $18, $1C, $17, $11
	dc.b	$1A, $0E, $00, $0F, $14, $10, $1F, $9F, $9F, $2F, $06, $84
	dc.b	$45, $37, $AA, $13, $01, $01, $80, $04, $A4, $13, $00, $04
	dc.b	$EF, $00, $D5, $06, $40, $F2, $38, $01, $00, $00, $00, $1F
	dc.b	$1F, $1F, $1F, $09, $09, $09, $0B, $00, $00, $00, $00, $FF
	dc.b	$FF, $FF, $FF, $5C, $22, $27, $80, $D2, $13, $01, $01, $80
	dc.b	$04, $CD, $13, $15, $00, $EF, $00, $A8, $1F, $F2, $38, $0F
	dc.b	$00, $00, $00, $1F, $1A, $18, $1C, $08, $06, $0C, $0E, $00
	dc.b	$0F, $14, $10, $1F, $9F, $9F, $2F, $05, $80, $80, $80, $03
	dc.b	$14, $01, $01, $80, $01, $F5, $13, $FF, $00, $EF, $00, $B8
	dc.b	$03, $F0, $01, $01, $39, $40, $80, $01, $D1, $09, $F2, $34
	dc.b	$0C, $73, $10, $0C, $AF, $FF, $AC, $D5, $06, $02, $00, $01
	dc.b	$02, $04, $0A, $08, $BF, $BF, $BF, $BF, $00, $80, $08, $80
	dc.b	$3D, $14, $01, $01, $80, $06, $26, $14, $00, $05, $EF, $00
	dc.b	$D0, $02, $E7, $01, $EB, $2A, $14, $E7, $01, $E6, $01, $F7
	dc.b	$00, $22, $2F, $14, $80, $01, $E2, $00, $F2, $38, $0F, $0F
	dc.b	$0F, $0F, $1F, $1F, $1F, $0E, $00, $00, $00, $00, $00, $00
	dc.b	$00, $00, $0F, $0F, $0F, $1F, $1A, $0C, $00, $80, $6A, $14
	dc.b	$01, $01, $80, $06, $60, $14, $00, $05, $EF, $00, $F0, $01
	dc.b	$01, $02, $02, $C0, $33, $F2, $38, $0F, $0F, $0F, $0F, $1F
	dc.b	$1F, $1F, $0E, $00, $00, $00, $00, $00, $00, $00, $00, $0F
	dc.b	$0F, $0F, $1F, $2E, $10, $00, $80, $A1, $14, $01, $02, $80
	dc.b	$05, $93, $14, $00, $05, $80, $06, $95, $14, $00, $05, $80
	dc.b	$05, $EF, $00, $D0, $07, $80, $03, $F7, $00, $04, $97, $14
	dc.b	$F2, $38, $0F, $0F, $0F, $0F, $1F, $1F, $1F, $0E, $00, $00
	dc.b	$00, $00, $00, $00, $00, $00, $0F, $0F, $0F, $1F, $1B, $10
	dc.b	$00, $80, $C9, $14, $01, $01, $80, $06, $C4, $14, $00, $0B
	dc.b	$EF, $00, $92, $3F, $F2, $3D, $03, $06, $02, $02, $0F, $1F
	dc.b	$1F, $1F, $00, $00, $00, $00, $00, $00, $00, $00, $0F, $0F
	dc.b	$0F, $0F, $0C, $82, $80, $80, $F6, $14, $01, $01, $80, $06
	dc.b	$EC, $14, $00, $02, $EF, $00, $F0, $01, $01, $50, $02, $CC
	dc.b	$65, $F2, $20, $36, $35, $30, $31, $41, $49, $3B, $4B, $09
	dc.b	$06, $09, $08, $01, $03, $02, $A9, $0F, $0F, $0F, $0F, $29
	dc.b	$27, $23, $80, $32, $15, $01, $01, $80, $04, $19, $15, $00
	dc.b	$02, $EF, $00, $F0, $03, $01, $09, $FF, $CA, $25, $F0, $00
	dc.b	$01, $00, $00, $E7, $E6, $01, $CB, $02, $F7, $00, $2A, $27
	dc.b	$15, $F2, $3C, $00, $44, $02, $02, $1F, $1F, $1F, $15, $00
	dc.b	$1F, $00, $00, $00, $00, $00, $00, $0F, $0F, $0F, $0F, $0D
	dc.b	$80, $28, $80, $5A, $15, $01, $01, $80, $04, $55, $15, $00
	dc.b	$07, $EF, $00, $D1, $30, $F2, $34, $03, $02, $03, $04, $1F
	dc.b	$1F, $1F, $1F, $00, $00, $00, $00, $00, $00, $00, $00, $0F
	dc.b	$0F, $0F, $0F, $08, $0E, $8A, $8A, $9C, $15, $01, $01, $80
	dc.b	$06, $7D, $15, $00, $17, $EF, $00, $F0, $01, $01, $2F, $09
	dc.b	$A0, $10, $E7, $E6, $02, $F7, $00, $10, $84, $15, $A0, $10
	dc.b	$E7, $E6, $FE, $F7, $00, $10, $8E, $15, $F6, $84, $15, $F2
	dc.b	$47, $08, $08, $08, $08, $1F, $1F, $1F, $1F, $00, $00, $00
	dc.b	$00, $00, $00, $00, $00, $FF, $FF, $FF, $FF, $81, $81, $81
	dc.b	$81, $D1, $15, $01, $01, $80, $04, $BF, $15, $00, $02, $EF
	dc.b	$00, $F0, $01, $01, $23, $30, $B4, $07, $B7, $FB, $05, $F7
	dc.b	$00, $03, $BF, $15, $F2, $13, $0F, $07, $07, $04, $1F, $1E
	dc.b	$1E, $13, $1A, $13, $11, $10, $00, $00, $00, $00, $FF, $FF
	dc.b	$FF, $FF, $16, $26, $23, $80, $11, $16, $01, $02, $80, $05
	dc.b	$FA, $15, $00, $0D, $80, $06, $FF, $15, $0C, $02, $EF, $00
	dc.b	$92, $3F, $F2, $EF, $01, $F0, $01, $01, $83, $0C, $8A, $05
	dc.b	$05, $E6, $03, $F7, $00, $0A, $06, $16, $F2, $3D, $03, $06
	dc.b	$02, $02, $0F, $1F, $1F, $1F, $00, $00, $00, $00, $00, $00
	dc.b	$00, $00, $0F, $0F, $0F, $0F, $0C, $82, $80, $80, $35, $14
	dc.b	$1A, $04, $09, $0E, $10, $11, $0E, $0C, $15, $03, $06, $16
	dc.b	$0E, $09, $10, $2F, $2F, $4F, $4F, $2F, $12, $12, $80, $67
	dc.b	$16, $01, $02, $80, $00, $53, $16, $00, $00, $80, $01, $5D
	dc.b	$16, $00, $00, $EF, $00, $F0, $01, $01, $01, $01, $9E, $1C
	dc.b	$F2, $EF, $01, $F0, $01, $01, $A4, $56, $C1, $1D, $F2, $3C
	dc.b	$02, $00, $01, $01, $1F, $1F, $1F, $1F, $00, $0E, $19, $10
	dc.b	$00, $0C, $00, $0F, $0F, $EF, $FF, $FF, $05, $80, $00, $80
	dc.b	$03, $02, $37, $33, $31, $1F, $1F, $1F, $54, $03, $05, $04
	dc.b	$0A, $02, $02, $02, $03, $2F, $2F, $2F, $5F, $03, $15, $22
	dc.b	$80, $BC, $16, $01, $02, $80, $02, $AB, $16, $00, $00, $80
	dc.b	$04, $A9, $16, $00, $00, $80, $03, $EF, $00, $CF, $06, $80
	dc.b	$01, $DD, $0C, $E6, $05, $0C, $F7, $00, $05, $B3, $16, $F2
	dc.b	$34, $0C, $0A, $04, $03, $1F, $1F, $1F, $1F, $0C, $0D, $09
	dc.b	$0C, $0A, $0E, $0D, $0E, $35, $1A, $55, $3A, $0F, $80, $0F
	dc.b	$80, $E6, $16, $01, $01, $80, $06, $DF, $16, $0D, $07, $EF
	dc.b	$00, $82, $07, $8A, $25, $F2, $3D, $13, $75, $13, $30, $5F
	dc.b	$5F, $5F, $5F, $0D, $0A, $0A, $0A, $0D, $0D, $0D, $0D, $4F
	dc.b	$0F, $0F, $0F, $0B, $80, $80, $80, $20, $17, $01, $01, $80
	dc.b	$06, $09, $17, $00, $05, $EF, $00, $D0, $02, $E7, $01, $EB
	dc.b	$0D, $17, $E7, $01, $E6, $01, $F7, $00, $22, $12, $17, $80
	dc.b	$01, $E2, $00, $F2, $38, $0F, $0F, $0F, $0F, $1F, $1F, $1F
	dc.b	$0E, $00, $00, $00, $00, $00, $00, $00, $00, $0F, $0F, $0F
	dc.b	$1F, $00, $00, $00, $80, $4D, $17, $01, $01, $80, $04, $43
	dc.b	$17, $00, $05, $EF, $00, $F0, $20, $01, $05, $05, $C6, $45
	dc.b	$F2, $04, $27, $02, $07, $47, $1F, $1F, $1F, $1F, $07, $0A
	dc.b	$07, $0D, $00, $0B, $00, $0B, $1F, $0F, $1F, $0F, $1F, $80
	dc.b	$23, $80, $8E, $17, $01, $02, $80, $02, $76, $17, $07, $05
	dc.b	$80, $04, $82, $17, $06, $08, $EF, $00, $C6, $02, $05, $05
	dc.b	$05, $05, $05, $05, $3A, $F2, $80, $02, $EF, $00, $C4, $02
	dc.b	$05, $15, $02, $05, $32, $F2, $04, $37, $72, $77, $49, $1F
	dc.b	$1F, $1F, $1F, $07, $0A, $07, $0D, $00, $0B, $00, $0B, $1F
	dc.b	$0F, $1F, $0F, $23, $80, $23, $80, $C2, $17, $01, $02, $80
	dc.b	$02, $B9, $17, $00, $00, $80, $04, $B7, $17, $00, $00, $80
	dc.b	$03, $EF, $00, $D4, $05, $80, $06, $DD, $11, $F2, $34, $0C
	dc.b	$0A, $04, $03, $1F, $1F, $1F, $1F, $0C, $0D, $09, $0C, $0A
	dc.b	$0E, $0D, $0E, $35, $1A, $55, $3A, $0F, $80, $0F, $80, $F5
	dc.b	$17, $01, $02, $80, $06, $E5, $17, $00, $09, $EF, $00, $F0
	dc.b	$01, $01, $19, $FF, $98, $20, $F1, $E7, $A1, $30, $E7, $30
	dc.b	$F2, $28, $03, $0B, $11, $03, $1F, $19, $1F, $1F, $02, $01
	dc.b	$02, $0E, $01, $01, $01, $01, $1F, $1F, $1F, $1F, $15, $26
	dc.b	$1C, $80, $29, $18, $01, $02, $80, $06, $18, $18, $00, $04
	dc.b	$EF, $00, $E0, $80, $99, $02, $E0, $40, $99, $E6, $08, $F7
	dc.b	$00, $05, $18, $18, $F2, $34, $06, $05, $00, $01, $1F, $1F
	dc.b	$1F, $13, $00, $00, $09, $00, $00, $00, $0A, $00, $1F, $1F
	dc.b	$1F, $1F, $00, $85, $04, $80, $65, $18, $01, $01, $80, $06
	dc.b	$4C, $18, $20, $00, $EF, $00, $90, $03, $80, $01, $FB, $01
	dc.b	$E6, $03, $F7, $00, $0A, $4E, $18, $FB, $F6, $E6, $E2, $F7
	dc.b	$01, $04, $4E, $18, $F2, $01, $04, $04, $04, $04, $1F, $1F
	dc.b	$1F, $13, $00, $00, $00, $00, $00, $00, $00, $00, $0F, $0F
	dc.b	$0F, $0F, $7F, $7F, $7F, $80, $03, $19, $01, $06, $80, $00
	dc.b	$A6, $18, $00, $05, $80, $01, $BF, $18, $00, $03, $80, $02
	dc.b	$DB, $18, $00, $05, $80, $04, $E5, $18, $00, $05, $80, $05
	dc.b	$EF, $18, $05, $0B, $80, $06, $F9, $18, $05, $0B, $EF, $00
	dc.b	$E0, $80, $B1, $04, $FB, $01, $F7, $00, $12, $AA, $18, $FB
	dc.b	$EE, $FB, $03, $E6, $02, $F7, $01, $05, $AA, $18, $F2, $EF
	dc.b	$01, $E0, $80, $92, $04, $FB, $01, $F7, $00, $0F, $C3, $18
	dc.b	$92, $02, $FB, $FF, $F7, $00, $0F, $CC, $18, $F7, $01, $04
	dc.b	$C3, $18, $F2, $EF, $01, $E0, $40, $80, $05, $F6, $C3, $18
	dc.b	$F2, $EF, $00, $E0, $40, $80, $05, $F6, $AA, $18, $F2, $EF
	dc.b	$01, $E0, $40, $80, $03, $F6, $AA, $18, $F2, $EF, $01, $E0
	dc.b	$80, $80, $04, $F6, $AA, $18, $F2, $04, $01, $03, $0A, $07
	dc.b	$0F, $13, $13, $14, $00, $00, $00, $00, $00, $00, $00, $00
	dc.b	$1F, $1F, $1F, $1F, $02, $82, $1A, $80, $04, $00, $04, $00
	dc.b	$01, $09, $09, $1F, $1F, $00, $00, $10, $0A, $00, $00, $10
	dc.b	$0A, $1F, $1F, $1F, $1F, $0F, $80, $0A, $80, $77, $19, $01
	dc.b	$03, $80, $05, $4B, $19, $00, $00, $80, $06, $5F, $19, $FB
	dc.b	$03, $80, $04, $6D, $19, $00, $03, $EF, $00, $A0, $05, $A5
	dc.b	$A7, $AC, $B1, $B3, $B8, $BD, $BF, $E6, $03, $F7, $00, $0D
	dc.b	$54, $19, $F2, $EF, $00, $E0, $40, $80, $01, $E6, $06, $FB
	dc.b	$F9, $F6, $4D, $19, $F2, $EF, $00, $E0, $80, $FB, $F9, $F6
	dc.b	$4D, $19, $F2, $13, $46, $36, $36, $56, $1F, $1F, $1F, $1F
	dc.b	$0C, $0D, $0E, $0D, $0C, $0C, $0C, $0F, $1F, $1F, $1F, $1F
	dc.b	$24, $10, $0F, $80, $A6, $19, $01, $01, $80, $06, $9A, $19
	dc.b	$00, $00, $EF, $00, $A0, $0F, $E6, $0F, $F7, $00, $04, $9A
	dc.b	$19, $F2, $04, $00, $01, $00, $05, $0F, $1F, $0F, $1F, $00
	dc.b	$00, $00, $00, $00, $00, $00, $00, $8F, $8F, $8F, $8F, $1F
	dc.b	$8D, $1F, $80, $DA, $19, $01, $02, $80, $05, $D1, $19, $00
	dc.b	$00, $80, $06, $CF, $19, $00, $00, $80, $03, $EF, $00, $DB
	dc.b	$05, $80, $06, $DD, $11, $F2, $34, $0C, $0A, $04, $03, $1F
	dc.b	$1F, $1F, $1F, $0C, $0D, $09, $0C, $0A, $0E, $0D, $0E, $35
	dc.b	$1A, $55, $3A, $0F, $80, $0F, $80, $0E, $1A, $01, $02, $80
	dc.b	$05, $05, $1A, $00, $00, $80, $06, $03, $1A, $00, $00, $80
	dc.b	$03, $EF, $00, $DC, $05, $80, $06, $DD, $11, $F2, $34, $0C
	dc.b	$0A, $04, $03, $1F, $1F, $1F, $1F, $0C, $0D, $09, $0C, $0A
	dc.b	$0E, $0D, $0E, $35, $1A, $55, $3A, $0F, $80, $0F, $80, $42
	dc.b	$1A, $01, $02, $80, $05, $39, $1A, $00, $00, $80, $06, $37
	dc.b	$1A, $00, $00, $80, $03, $EF, $00, $DD, $05, $80, $06, $DD
	dc.b	$11, $F2, $34, $0C, $0A, $04, $03, $1F, $1F, $1F, $1F, $0C
	dc.b	$0D, $09, $0C, $0A, $0E, $0D, $0E, $35, $1A, $55, $3A, $0F
	dc.b	$80, $0F, $80, $76, $1A, $01, $02, $80, $05, $6D, $1A, $00
	dc.b	$00, $80, $06, $6B, $1A, $00, $00, $80, $03, $EF, $00, $DE
	dc.b	$05, $80, $06, $DD, $11, $F2, $34, $0C, $0A, $04, $03, $1F
	dc.b	$1F, $1F, $1F, $0C, $0D, $09, $0C, $0A, $0E, $0D, $0E, $35
	dc.b	$1A, $55, $3A, $0F, $80, $0F, $80, $BD, $1A, $01, $01, $80
	dc.b	$05, $99, $1A, $04, $08, $EF, $00, $F8, $AC, $1A, $FB, $05
	dc.b	$E6, $08, $F7, $01, $03, $9B, $1A, $FB, $EC, $E6, $E0, $F2
	dc.b	$99, $02, $FB, $01, $F7, $00, $0A, $AC, $1A, $FB, $F6, $F9
	dc.b	$EF, $00, $80, $0A, $F2, $07, $04, $04, $05, $04, $1F, $1F
	dc.b	$15, $15, $00, $00, $00, $00, $00, $00, $00, $00, $1F, $1F
	dc.b	$1F, $1F, $7F, $7F, $80, $80
FMSFXDriverEnd:
	even

; -------------------------------------------------------------------------
; Saved status register
; -------------------------------------------------------------------------

savedSR:
	dc.w	0

; -------------------------------------------------------------------------
; Initialize the Mega Drive
; -------------------------------------------------------------------------
; PARAMETERS:
;	a0.l - Pointer to VDP register data table
; -------------------------------------------------------------------------

Initialize:
	move.w	#$8000,d0			; Set up VDP registers
	moveq	#VDPRegsEnd-VDPRegs-1,d7

.SetupVDPRegs:
	move.b	(a0)+,d0
	move.w	d0,VDPCTRL
	addi.w	#$100,d0
	dbf	d7,.SetupVDPRegs

	moveq	#$40,d0				; Set up controller ports
	move.b	d0,IOCTRL1
	move.b	d0,IOCTRL2
	move.b	d0,IOCTRL3
	move.b	#$C0,IODATA1

	bsr.w	StopZ80				; Stop the Z80

	VDPCMD	move.l,0,VRAM,WRITE,VDPCTRL	; Clear VRAM
	lea	VDPDATA,a0
	moveq	#0,d0
	move.w	#$10000/16-1,d7

.ClearVRAM:
	rept	16/4
		move.l	d0,(a0)
	endr
	dbf	d7,.ClearVRAM

	VDPCMD	move.l,0,VSRAM,WRITE,VDPCTRL	; Reset vertical scroll data
	move.l	#0,VDPDATA

	bsr.w	StartZ80			; Start the Z80
	move.w	#$8134,ipxVDPReg1		; Reset IPX VDP register 1 cache
	rts

; -------------------------------------------------------------------------
; Stop the Z80
; -------------------------------------------------------------------------

StopZ80:
	move	sr,savedSR			; Save status register
	move	#$2700,sr			; Disable interrupts
	Z80STOP					; Stop the Z80
	rts

; -------------------------------------------------------------------------
; Start the Z80
; -------------------------------------------------------------------------

StartZ80:
	Z80START				; Start the Z80
	move	savedSR,sr			; Restore status register
	rts

; -------------------------------------------------------------------------

End:

; -------------------------------------------------------------------------
